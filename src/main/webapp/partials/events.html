<div class="container-fluid">
	
	<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
	<div>
		<a href="#/addevent"><i class="icon-plus-sign"></i></a>
		
			<ul class="unstyled">

				<li ng-repeat="event in events.data" id="event_{{event.key}}">
					<div>
						<h3 ng-show="createHeader(event.startTime)">
					       {{event.startTime | date:'mediumDate'}}
					    </h3>
					    
					    	<div class="well text-center row-fluid">
					    		
					    		
					    		<ul class="inline">
					    			<li class="pull-left">
					    				<strong>{{event.startTime | date:'shortTime'}}</strong>
	    								    					
					    					
					    				    				
						    				<a ng-click="expandEvent();"><strong>{{event.title}} </strong></a> 
						    				<small class="muted">at {{event.location.title}}, {{event.location.address.city}}</small>
						    		
						    		</li>
									<li class="pagination-centered pull-right" ng-repeat="userImage in event.cachedParticipantImages">
										<div class="span6">
											<img ng-src="{{userImage.imageUrl}}">
										</div>
									</li>	
								</ul>
								<div class="row-fluid event-detail" id="{{event.key}}_detail" collapse="{{event.isCollapse}}">
								
								<table class="table">  
							        <thead>  
							          <tr>  
							            <th>What?</th>  
							            <th>When?</th> 
							            <th>Where?</th> 
							            <th>Who?</th>  
							            <th>I wanna help</th>  
							          </tr>  
							        </thead>  
							        <tbody>  
							          <tr>  
							            <td class="span4">{{modelEvent.description}}</td>  
							            <td>
							            	<p>Starts at : <strong>{{modelEvent.startTime|date:'shortTime'}}</strong></p>
							            	<p>Ends at&nbsp&nbsp: <strong>{{modelEvent.endTime|date:'shortTime'}}</strong> </p>
							            </td>  
							            <td>
							            	<p>{{modelEvent.location.address.street}}</p>
							            	<p>{{modelEvent.location.address.city}}, {{modelEvent.location.address.state}}, <p>

                        					<p>{{modelEvent.location.address.country}}, {{modelEvent.location.address.zip}}</p>
							            </td>
							            <td>
							            	<p>Needs : <strong>{{modelEvent.maxRegistrations}}</strong></p>
							            	<p>Registered: <strong>{{modelEvent.participants.length}}</strong></p>
							             </td>  
							            <td>
							            	<p><button class="btn btn-success" ng-click="register()"><i class="icon-ok icon-white"></i>Register</button></p>
							            	<p><a href="#/viewevent/{{modelEvent.key}}"class="btn btn-info"><i class=" icon-info-sign icon-white"></i>More info</a></p>
							            </td>  
							          </tr>  
							           
							        </tbody>  
							      </table>  

								
							</div>
							</div>
							
							
					</div>	
				</li>
			</ul>
		</div>
	</div>
</div>
