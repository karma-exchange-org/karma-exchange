<div class="container-fluid">
	
	<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
	<div>
		
			<ul class="unstyled">

				<li ng-repeat="event in events.data" id="event_{{event.key}}">
					<div>
						<h3 ng-show="createHeader(event.startTime)">
					       {{event.startTime | date:'mediumDate'}}
					    </h3>
					    
					    	<div class="well text-center row-fluid">
					    		
					    		
					    		<ul class="inline">
					    			<li class="pull-left">
					    				<strong>{{event.startTime | date:'shortTime'}}</strong> - <small class="muted">{{event.endTime | date:'shortTime'}} </small>
	    								    					
					    					
					    				    				
						    				<a ng-click="toggleEvent();"><strong>{{event.title}} </strong></a> 
						    				<small class="muted">at {{event.location.title}}, {{event.location.address.city}}</small>
						    		
						    		</li>
						    		<div class="pull-right">
						    			<ul class="inline">
											<li class="pagination-centered " ng-repeat="userImage in event.cachedParticipantImages">
												
													<a href="#/user/{{userImage.participant.key}}"><img ng-src="{{userImage.imageUrl}}?width=25&height=25"></a>
												
											</li>
										</ul>	
									</div>
								</ul>
								<div class="row-fluid event-detail" id="{{event.key}}_detail" collapse="{{event.isCollapse}}">
								
								<table class="table">  
							        <thead>  
							          <tr>  
							            <th>What?</th>  
							            <th>When? Where?</th> 
							            <th>Who?</th>  
							            <th>I wanna help</th>  
							          </tr>  
							        </thead>  
							        <tbody>  
							          <tr>  
							            <td class="span4">{{modelEvent.description}}</td>  
							            <td>
							            	<p><strong>{{modelEvent.startTime|date:'shortTime'}} - {{modelEvent.endTime|date:'shortTime'}}</strong></p>
							            	
							             
							                 	<p>{{modelEvent.location.address.street}}</p>
							            	<p>{{modelEvent.location.address.city}}, {{modelEvent.location.address.state}}, <p>

                        					<p>{{modelEvent.location.address.country}}, {{modelEvent.location.address.zip}}</p>
							            </td>
							            <td>
							            	<p>Needs : <strong>{{modelEvent.maxRegistrations}}</strong></p>
							            	<p>Registered: <strong>{{modelEvent.numAttending}}</strong></p>
							            	<p>Organized by </p><p><a href="#/user/{{modelEvent.firstOrganizer.key}}"><img ng-src="{{modelEvent.firstOrganizer.profileImage.url}}?type=square"/><strong>{{modelEvent.firstOrganizer.firstName}}</strong></a> <rating ng-hide="modelEvent.firstOrganizer.eventOrganizerRating.count==0" value="modelEvent.firstOrganizer.eventOrganizerRating.value" max="5" readonly="true"></rating> </p>
							             </td>  
							            <td>
							            	<h4>{{event.karmaPoints}} karma points.</h4>
							            	<p>
							            		
							            		
							            		<button ng-show="{CAN_REGISTER:true}[modelEvent.registrationInfo]"class="btn btn-success" ng-click="register()"><i class="icon-ok icon-white"></i>Register</button>
							            		<button ng-show="{CAN_WAIT_LIST:true}[modelEvent.registrationInfo]"class="btn btn-success" ng-click="register()"><i class="icon-ok icon-white"></i>Wait list</button>
							            		<p ng-show="{REGISTERED:true,WAIT_LISTED:true}[modelEvent.registrationInfo]"><i class="icon-ok"></i>You have registered!</p>
							            		
							            	

							            	</p>
							            	<p><a href="#/event/{{modelEvent.key}}"class="btn btn-info"><i class=" icon-info-sign icon-white"></i>More info</a></p>
							            </td>  
							          </tr>  
							           
							        </tbody>  
							      </table>  

								
							</div>
							</div>
							
							
					</div>	
				</li>
			</ul>
		</div>
	</div>
</div>
